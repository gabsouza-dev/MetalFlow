{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            var sDate = segment.startDate;\n            var eDate = segment.endDate;\n            if (this.parent.timelineModule.bottomTier === 'Hour') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n            }\n            else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n            }\n            else {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n            }\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                hierarchicalData = this.dataArray;\n            }\n            else {\n                hierarchicalData = this.hierarchyData;\n            }\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', data['level'] ? data['level'] : level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work) {\n            return;\n        }\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        var resourceOneDayWork;\n        if (!isNullOrUndefined(resources) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0));\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) || ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if (!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        this.updateUnitWithWork(ganttData);\n                        break;\n                    case 'FixedUnit':\n                        this.updateWorkWithDuration(ganttData);\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule) && !this.parent.editModule.dialogModule['isEdit'] &&\n            (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit))\n            ? this.parent.editModule.dialogModule.ganttResources : ganttProperties.resourceInfo;\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            (this.parent.editModule.taskbarEditModule.taskBarEditAction === 'LeftResizing' || this.parent.editModule.taskbarEditModule.taskBarEditAction === 'RightResizing')) {\n            resources = ganttData.ganttProperties.resourceInfo;\n        }\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        var ganttRecord = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n            this.parent.timelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && ganttData.duration < 1) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    if (tierMode === 'Hour' && countValue === 1 && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findNthWeekday(year, month, dayOfWeek, n) {\n            var firstDayOfMonth = new Date(Date.UTC(year, month, 1));\n            var firstDayOfWeek = firstDayOfMonth.getUTCDay();\n            var offset = (dayOfWeek - firstDayOfWeek + 7) % 7;\n            return new Date(Date.UTC(year, month, 1 + offset + (n - 1) * 7, 2, 0, 0));\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formatted = formatter.format(date);\n            var _a = formatted.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findNthWeekday(year, 2, 0, 5);\n        var dstEndDate = findNthWeekday(year, 9, 0, 5);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n            this.parent.timelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            if (hasDST) {\n                transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            }\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = void 0;\n                if (this.parent.isInDst(date)) {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                }\n                else {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 && !isTimeSet) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    var newTimelineStartDate = void 0;\n                    if (date.getTimezoneOffset() < timelineStartDate.getTimezoneOffset()) {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                    }\n                    else {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime());\n                    }\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = void 0;\n            if (transitions && transitions['dstStart']) {\n                dstStartTime = transitions['dstStart'].getTime();\n            }\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) !== 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            if (this.parent.isInDst(timelineStartDate) && !this.parent.isInDst(startDate) && (this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour')) {\n                leftValue = leftValue - this.parent.timelineSettings.timelineUnitSize;\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            if (hasDST && countValue === 1 && tierMode === 'Hour' && startDate >= transitions['dstStart'] && isBeforeOrAtDSTStart) {\n                leftValue = leftValue - (this.parent.perDayWidth / 24);\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration)) && !(this.parent.viewType === 'ResourceView' && tempDuration['duration'] === 0 && this.parent.editModule && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit)) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping))) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var childData = [];\n        var parentItem;\n        if (data.parentItem) {\n            parentItem = this.parent.getParentTask(data.parentItem);\n            childData = parentItem.childRecords;\n        }\n        if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords && this.parent.enableValidation) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n            if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n        else if (parentItem && !this.parent.enableValidation) {\n            this.updateWidthLeft(parentItem);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_6 = function (count) {\n                    childData_1 = (this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_4.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_4.isFromManual(childData_1)) {\n                        var ganttRec = this_4.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_4.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData_1.ganttProperties.isMilestone &&\n                        isScheduledTask(childData_1.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData_1[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData_1.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex'), 10) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex'), 10) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'), 10)];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing ||\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        this.isZoomedToFit = false;\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {};\n            previousTimeline['action'] = action;\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel;\n        var level = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        if (foundLevel) {\n            currentLevel = level;\n        }\n        else {\n            currentLevel = currentZoomingLevel;\n        }\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            addClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        else {\n            removeClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesB.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            virtualTrackStylesB.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference !== count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    if (isFirstCell && count === 6) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(6, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2 && count !== 15) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = Math.abs((this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var hasDST = this.parent.dataOperation.hasDSTTransition(scheduleWeeks.getFullYear());\n        var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var transitions;\n        var dstStartTime;\n        if (hasDST) {\n            transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear(), timeZone);\n            dstStartTime = transitions['dstStart'].getTime();\n        }\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) ||\n            (hasDST && newDateOffset !== dubNewDateOffset && dubNewDateOffset > newDateOffset &&\n                timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && totalHour !== 0 && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n                    this.parent.timelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = (bottomTierSettings['count'] === 1 && bottomTierSettings['unit'] === 'Hour');\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast || (isFirstCell && mode !== 'Hour') ? isLast ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate) :\n            this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n            : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 && !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (scrollWidth !== 0) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id])) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    column.template = '<div class=\"e-ganttnotes-info\">' +\n                        '<span class=\"e-icons e-notes-info\"></span></div>';\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines working time of day in project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get resource details from resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines working time of day in project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) +\n                        'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (_this.parent.connectorLineEditModule && toData && fromData) {\n                    isValid = _this.parent.connectorLineEditModule.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule.cellEditModule &&\n                            _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && this.parent.editModule &&\n                    flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.parent.connectorLineEditModule.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        this.storeId = JSON.parse(JSON.stringify(this.parent.ids));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = (this.storeId.indexOf(record[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(record[this.parent.taskFields.id].toString()) : -1;\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].offsetHeight;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -5 : data.milestoneChild ? 5 : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3)) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3));\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1']) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - 4) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        this.splitterObject.paneSettings[0].size = splitterPosition;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex_1);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n        this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - 4) + 'px';\n            if (this.timelineModule.isZoomToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if (e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                var height = void 0;\n                var chartRow = !isNullOrUndefined(this.ganttChartModule.getChartRows()) ?\n                    this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    addClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    addClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                else {\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n            this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the task date of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To set scroll left and top in chart side.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * To update timeline at start point with one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Split the taskbar into segment by the given date\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n                if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                    this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n                }\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateRecordByID(data);\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes - Defines the Dragged record index.\n     * @param {number} toIndex - Defines the Dropped record index.\n     * @param {string} position -Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of task to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.updateRecordByID(data);\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate && ((!isNullOrUndefined(data['isManual']) &&\n            data['isManual'] === false) || this.parent.taskMode === 'Auto')) || field === taskSettings.duration\n            || field === taskSettings.dependency || field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        return tooltipString;\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record)\n                            : this.parent.flatData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record) :\n                        this.parent.flatData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if (!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i++) {\n                            var segment_5 = segments[i];\n                            var eDate_1 = segment_5.endDate;\n                            eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                            segment_5.endDate = eDate_1;\n                            segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered\n                                    && _this.editedRecord.ganttProperties.taskType === 'FixedUnit') {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered\n                                && _this.editedRecord.ganttProperties.taskType === 'FixedUnit') {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate && ((!isNullOrUndefined(this.editedRecord['isManual']) &&\n                    this.editedRecord['isManual'] === false) || this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        if (this.parent.viewType === 'ResourceView') {\n            for (var i = 0; i < ganttObj.currentViewData.length; i++) {\n                for (var j = 0; j < ganttObj.resources.length; j++) {\n                    if (ganttObj.currentViewData[i][ganttObj.taskFields.id] ===\n                        ganttObj.resources[j][resourceSettings.id] &&\n                        (ganttObj.currentViewData[i].hasChildRecords ||\n                            isNullOrUndefined(ganttObj.currentViewData[i].parentItem))) {\n                        resourceData.push(extend([], [], [ganttObj.resources[j]], true)[0]);\n                    }\n                }\n            }\n        }\n        else {\n            resourceData = extend([], [], ganttObj.resources, true);\n        }\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, true), this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var lastIndex = preData.name.lastIndexOf('-');\n            var splitString = [preData.name.substring(0, lastIndex)];\n            if (isNullOrUndefined(preData.id) || preData.id !== splitString[0]) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && preArray[j].includes('days')) {\n                    predecessorName = preArray[j].slice(-9).toString();\n                }\n                if (preArray[j].includes('-') && preArray[j].includes('day')) {\n                    predecessorName = preArray[j].slice(-8).toString();\n                }\n                else {\n                    predecessorName = preArray[j].slice(-2).toString();\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    // Get the root parent of the record\n    ConnectorLineEdit.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    ConnectorLineEdit.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.parent.connectorLineEditModule.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.parent.connectorLineEditModule.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (validPredecessor_1.length === 0) {\n                this.cumulativePredecessorChanges = [];\n            }\n            if (!isRecursive && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if ((column === 'resource')) {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        else if (column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                                this.parent.setRecordValue('work', 0, ganttProp, true);\n                                if (!isNullOrUndefined(this.parent.taskFields.work)) {\n                                    this.parent.dataOperation.updateMappingData(currentData, 'work');\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' && isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.parent.ganttChartModule.reRenderConnectorLines();\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            this.updateRowIndex();\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            for (var i = 0; i < prevResource.length; i++) {\n                var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                if (prevResourceID === 'NaN') {\n                    prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                }\n                if (prevResourceID === resourceID) {\n                    recordIndex.push(i);\n                    break;\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    deleteRecords.push(selectedRecords[i]);\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                deleteRecords.push(resourceParent);\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            this.deletedTaskDetails.push(childRecord);\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n                }\n                else {\n                    deletedRecords.push(this.parent.flatData[this.parent.taskIds.indexOf(id.toString())]);\n                }\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        this.parent.treeGrid.editModule['isOnBatch'] = false;\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var treeGrid = this.parent.treeGrid;\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var row = treeGrid.getRowByIndex(index);\n            if (row) {\n                var rowIndex = Number(row.getAttribute('data-rowindex'));\n                currentViewData[index].index = rowIndex;\n                if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                    var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (this.dialogModule.isAddNewResource && !this.parent.isEdit && this.parent.taskFields.work) {\n            this.parent.dataOperation.updateWorkWithDuration(cAddedRecord[0]);\n        }\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                if (args.data.ganttProperties.resourceInfo && args.data.ganttProperties.resourceInfo.length) {\n                    if (args.data.ganttProperties.resourceInfo.length > 1) {\n                        // eslint-disable-next-line\n                        var resources = extend([], [], args.data.ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data);\n                    }\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                (!(this.filterMenuElement.contains(element)) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            parentNodeTop = parentNode.getBoundingClientRect().top;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            element.style.zIndex = targetElement.parentElement.style.zIndex;\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n            }\n            else {\n                this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if ((this_2.parent.selectionSettings.type === 'Single' || (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && index > -1 && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                        (this.parent.timelineModule.topTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                            this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                    if (sDateOffset !== this.parent.timelineModule.timelineStartDate.getTimezoneOffset() &&\n                        !this.weekendWidthUpdated) {\n                        if (isHourTimeline && sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var _this = this;\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    fromDataObject.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                }\n            }\n        }\n        if (fromDataObject) {\n            fromDataObject.splice(0, 1);\n            if (fromDataObject.length > 0) {\n                fromDataObject.forEach(function (item) {\n                    _this.slackCalculation([item], collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                });\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                /* eslint-disable-next-line */\n                                dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                            }\n                            else {\n                                toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                if (toID !== -1) {\n                                    dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                        flatRecords[toID].slack = flatRecords[index].slack;\n                                        flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                    }\n                                }\n                            }\n                            if (toID !== -1) {\n                                if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                    flatRecords[index].slack = flatRecords[toID].slack;\n                                    flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                }\n                                else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                    flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction']);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                records[detail].push(record);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        data[taskfields.duration] = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.closeEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var taskSettings = this.parent.taskFields;\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.connectorLineEditModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (cell.columnSpan > 1) {\n                    size = new SizeF(cell.width, height);\n                    i += cell.columnSpan;\n                }\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* eslint-disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = this.rows.getRow(0).cells.getCell(0).style;\n            if (style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = void 0;\n            if (fontStyles.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.fontStyle.fontBrush);\n            }\n            else {\n                customisedBrush = textBrush;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = void 0;\n            if (this.style.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.style.fontBrush);\n            }\n            else {\n                customisedBrush = textBrush;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = this.cells.getCell(0).height;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.ganttStyle.connectorLineColor = predecessor.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= renderWidth_1) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = renderWidth_1;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.autoWidth) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.value || template.image) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(this.remainString)) {\n                        var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                        taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                if (!isNullOrUndefined(this.remainString)) {\n                                    var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_3.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result_4.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var width = this.baselineWidth;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                this.parent.pdfExportModule.helper['getFontFamily'](fontFamilyValue) : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_5 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_5.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (ganttStyle && ganttStyle.label && ganttStyle.label.fontSize) {\n            font = new PdfStandardFont(this.fontFamily, ganttStyle.label.fontSize);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfFontFamily, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(eventArgs.timelineCell.borderColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(startdate.getTime() + secondsToAdd);\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(206, 206, 206));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","segment","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","taskType","isOnEdit","childCompletedWorks","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","updateUnitWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","ganttResources","taskBarEditAction","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","topTier","zoomOrTimeline","currentZoomingLevel","countValue","isValid","modifiedsDate","isValid_1","k","dateDiff","test","perDayWidth","isInDst","totalWidth","sOffset","eOffset","customTimelineSettings","getDSTTransitions","year","findNthWeekday","month","n","UTC","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","hasDST","transitions","systemTimeZone","newTimelineStartDate","newDate","setStartDate","timelineStartTime","dstStartTime","isBeforeOrAtDSTStart","timelineUnitSize","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","resolvedOptions","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_4","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","timelineSingleHeaderOuterDiv","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","isAdaptive","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","initProperties","timelineEndDate","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","previousTimeline","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","foundLevel","zoomingLevels","find","tempLevel","enableItems","controlId","findIndex","newTimeline","timeline","changeTimelineSettings","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","cls.timelineSingleHeaderOuterDiv","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","isReact","append","isWeekend","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","navigator","userAgent","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","initiateCellEdit","currentEditRow","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","value_1","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","handleTouchMove","event","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","calculateLeftValue","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","validateParentPredecessor","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","getRootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","JSON","parse","stringify","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","contentTemp","initializeCSPTemplate","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","HTMLElement","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","isOnAdded","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","properties","matchedObject","treeColumn","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","offsetLeft","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","editing","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","startIndex","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","parentUniqueID","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","preElement","newValues","splitString","name_1","resourceElement","idArray","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","compareObjects","obj1","obj2","keys1","keys2","every","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","ganttProps","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","scrollY","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","nonworkingContainer","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","columnMenuModule","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","lineStartX","lineEndX","lineY","result_3","result_4","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","PdfBrushes","Black","drawRightLabel","getPdfFont","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","adjustHeight","point","labelBounds","labelFormat","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_5","result_6","PdfWordWrapType","Character","taskBrush","isBaseline","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","fontHieght","font1","holidayBrush","pLeft","pTop","state","setClip","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","strSize","measureString","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startdate","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}